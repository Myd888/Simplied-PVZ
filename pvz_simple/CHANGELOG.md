# Changelog

本项目所有重要的变更都会记录在此文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
版本号遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [Unreleased]

## [0.3.0] - 2026-2-7

### 新增 (Added)
- 添加铲子下层棕色框，选中铲子后点击棕色框可取消选中状态
- 添加左下角暂停按钮和退出按钮
- 实现暂停/继续功能，支持空格键快捷键
- 实现退出确认窗口，支持 Q 键快捷键退出
- 添加游戏暂停时的视觉提示（半透明遮罩和提示文字）
- 创建项目 README.md 文档，包含安装、运行和操作说明

### 改进 (Changed)
- 优化铲子功能交互，添加棕色背景框提升用户体验
- 改进游戏控制逻辑，暂停时停止所有游戏实体更新
- 优化按钮绘制，根据暂停状态显示不同颜色
- 完善用户界面，添加更多交互反馈

## [0.2.0] - 2026-2-7

### 新增 (Added)
- 添加铲子功能，可在右上角点击铲子图标后移除植物
- 铲子选中后图标会跟随鼠标移动并降低透明度
- 创建启动程序文件（启动游戏.bat 和 启动游戏.pyw）
- 创建图标生成脚本（create_icon.py）用于生成游戏图标
- 添加游戏打包说明文档（打包说明.md）

### 修复 (Fixed)
- 修复僵尸无法移动的问题，添加攻击状态标记控制移动
- 修复铲子选中后点击植物无法移除的问题，优化点击检测逻辑
- 扩大植物点击检测范围，提高铲子移除植物的成功率

### 改进 (Changed)
- 调整植物血条高度为原来的一半（-35 改为 -17.5），僵尸血条保持原高度
- 在僵尸移动逻辑中添加详细的速度调整标注，方便修改僵尸移动速度
- 优化铲子功能的点击检测顺序，优先检测植物移除
- 改进代码结构，为关键功能添加清晰的标注区域

## [0.1.0] - 2026-2-7

### 新增 (Added)
- 为植物和僵尸添加实时血量条显示功能
- 血量条根据血量百分比自动变色（绿色→黄色→红色）
- 为植物添加眼睛绘制，提升视觉识别度
- 为僵尸添加眼睛绘制，提升视觉识别度
- 改进子弹外观，使用圆形绘制

### 修复 (Fixed)
- 修复中文字体显示乱码问题，使用 Windows 系统字体（微软雅黑/黑体）
- 修复僵尸不可见问题，使用带透明通道的 Surface 确保正确渲染
- 修复僵尸生成位置，确保僵尸立即可见
- 优化碰撞检测逻辑，使用明确的碰撞检测函数

### 改进 (Changed)
- 改进僵尸与植物碰撞后的行为，僵尸碰到植物后会停止移动
- 改进所有实体图像渲染方式，统一使用 `pygame.SRCALPHA` 创建透明通道
- 优化字体加载逻辑，添加多个备用字体方案
- 改进代码注释，添加更详细的函数说明

## [0.0.0] - 2024-12-19

### 新增 (Added)
- 初始版本发布
- 实现游戏窗口和网格绘制系统
- 实现鼠标点击种植植物功能
- 实现僵尸自动生成和移动系统
- 实现植物自动射击系统
- 实现子弹与僵尸碰撞检测
- 实现僵尸与植物碰撞检测
- 实现基础血量系统和游戏结束判定
- 创建模块化代码结构（settings.py, grid.py, entities.py, main.py）

